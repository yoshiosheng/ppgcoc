jQuery(function(){handle_side_menu();enable_search_ahead();general_things();widget_boxes()});
function handle_side_menu(){$("#menu-toggler").on(ace.click_event,function(){$("#sidebar").toggleClass("display");$(this).toggleClass("display");return!1});var a=$("#sidebar").hasClass("menu-min");$("#sidebar-collapse").on(ace.click_event,function(){$("#sidebar").toggleClass("menu-min");$(this).find('[class*="icon-"]:eq(0)').toggleClass("icon-double-angle-right");(a=$("#sidebar").hasClass("menu-min"))&&$(".open > .submenu").removeClass("open")});$(".nav-list").on(ace.click_event,function(b){var c=
$(b.target).closest("a");if(c&&0!=c.length){if(c.hasClass("dropdown-toggle")){var d=c.next().get(0);if(!$(d).is(":visible")){b=$(d.parentNode).closest("ul");if(a&&b.hasClass("nav-list"))return;b.find("> .open > .submenu").each(function(){this==d||$(this.parentNode).hasClass("active")||$(this).slideUp(200).parent().removeClass("open")})}if(a&&$(d.parentNode.parentNode).hasClass("nav-list"))return!1;$(d).slideToggle(200).parent().toggleClass("open");return!1}if(a&&("tap"==ace.click_event&&c.get(0).parentNode.parentNode==
this)&&(c=c.find(".menu-text").get(0),b.target!=c&&!$.contains(c,b.target)))return!1}})}
function enable_search_ahead(){var a={};$("#nav-search-input").typeahead({source:function(b,c){var d=[];return $.getJSON("../search/search_autocomplete",{query:b},function(b){for(var e=0,g=b.length;e<g;e++)a[b[e].baname]=b[e].baid,d.push(b[e].baname);return c(d)})},updater:function(b){$("#nav-search-input").focus();$("#nav-search-input").select();window.location="../account/accounts?accountId="+encodeURIComponent(a[b]);return b},matcher:function(a){return~a.toLowerCase().lastIndexOf(this.query.toLowerCase(),
0)},items:10}).focus().select()}$.fn.typeahead.Constructor.prototype.render=function(a){var b=this;a=$(a).map(function(a,d){a=$(b.options.item).attr("data-value",d);a.find("a").html(b.highlighter(d));return a[0]});this.$menu.html(a);return this};$.fn.typeahead.Constructor.prototype.select=function(){var a=this.$menu.find(".active");return a.length?(a=a.attr("data-value"),this.$element.val(this.updater(a)).change(),this.hide()):document.getElementsByClassName(this.$element[0].form.className)[0].submit()};
function general_things(){$('.ace-nav [class*="icon-animated-"]').closest("a").on("click",function(){var a=$(this).find('[class*="icon-animated-"]').eq(0),b=a.attr("class").match(/icon\-animated\-([\d\w]+)/);a.removeClass(b[0]);$(this).off("click")});$(".nav-list .badge[title],.nav-list .label[title]").tooltip({placement:"right"});$("#ace-settings-btn").on(ace.click_event,function(){$(this).toggleClass("open");$("#ace-settings-box").toggleClass("open")});$("#ace-settings-header").removeAttr("checked").on("click",
function(){this.checked||$("#ace-settings-sidebar").get(0).checked&&$("#ace-settings-sidebar").click();$(".navbar").toggleClass("navbar-fixed-top");$(document.body).toggleClass("navbar-fixed")});$("#ace-settings-sidebar").removeAttr("checked").on("click",function(){this.checked?$("#ace-settings-header").get(0).checked||$("#ace-settings-header").click():$("#ace-settings-breadcrumbs").get(0).checked&&$("#ace-settings-breadcrumbs").click();$("#sidebar").toggleClass("fixed")});$("#ace-settings-breadcrumbs").removeAttr("checked").on("click",
function(){this.checked&&($("#ace-settings-sidebar").get(0).checked||$("#ace-settings-sidebar").click());$("#breadcrumbs").toggleClass("fixed");$(document.body).toggleClass("breadcrumbs-fixed")});$("#ace-settings-rtl").removeAttr("checked").on("click",function(){switch_direction()});$("#btn-scroll-up").on(ace.click_event,function(){var a=Math.max(100,parseInt($("html").scrollTop()/3));$("html,body").animate({scrollTop:0},a);return!1});$("#skin-colorpicker").ace_colorpicker().on("change",function(){var a=
$(this).find("option:selected").data("class"),b=$(document.body);b.removeClass("skin-1 skin-2 skin-3");"default"!=a&&b.addClass(a);"skin-1"==a?$(".ace-nav > li.grey").addClass("dark"):$(".ace-nav > li.grey").removeClass("dark");"skin-2"==a?($(".ace-nav > li").addClass("no-border margin-1"),$(".ace-nav > li:not(:last-child)").addClass("light-pink").find('> a > [class*="icon-"]').addClass("pink").end().eq(0).find(".badge").addClass("badge-warning")):($(".ace-nav > li").removeClass("no-border margin-1"),
$(".ace-nav > li:not(:last-child)").removeClass("light-pink").find('> a > [class*="icon-"]').removeClass("pink").end().eq(0).find(".badge").removeClass("badge-warning"));"skin-3"==a?$(".ace-nav > li.grey").addClass("red").find(".badge").addClass("badge-yellow"):$(".ace-nav > li.grey").removeClass("red").find(".badge").removeClass("badge-yellow")})}
function widget_boxes(){$(".page-content").delegate(".widget-toolbar > [data-action]","click",function(a){a.preventDefault();a=$(this);var b=a.data("action"),c=a.closest(".widget-box");if(!c.hasClass("ui-sortable-helper"))if("collapse"==b){var d=c.find(".widget-body");a=a.find("[class*=icon-]").eq(0);var f=a.attr("class").match(/icon\-(.*)\-(up|down)/),b="icon-"+f[1]+"-down",f="icon-"+f[1]+"-up",e=d.find(".widget-body-inner"),d=0==e.length?d.wrapInner('<div class="widget-body-inner"></div>').find(":first-child").eq(0):
e.eq(0);c.hasClass("collapsed")?(a&&a.addClass(f).removeClass(b),c.removeClass("collapsed"),d.slideUp(0,function(){d.slideDown(300)})):(a&&a.addClass(b).removeClass(f),d.slideUp(200,function(){c.addClass("collapsed")}))}else if("close"==b)a=parseInt(a.data("close-speed"))||300,c.hide(a,function(){c.remove()});else if("reload"==b){a.blur();var g=!1;"static"==c.css("position")&&(g=!0,c.addClass("position-relative"));c.append('<div class="widget-box-layer"><i class="icon-spinner icon-spin icon-2x white"></i></div>');
setTimeout(function(){c.find(".widget-box-layer").remove();g&&c.removeClass("position-relative")},parseInt(1E3*Math.random()+1E3))}})}
function switch_direction(){function a(a,c){b.find("."+a).removeClass(a).addClass("tmp-rtl-"+a).end().find("."+c).removeClass(c).addClass(a).end().find(".tmp-rtl-"+a).removeClass("tmp-rtl-"+a).addClass(c)}var b=$(document.body);b.toggleClass("rtl").find(".dropdown-menu:not(.datepicker-dropdown,.colorpicker)").toggleClass("pull-right").end().find('.pull-right:not(.dropdown-menu,blockquote,.dropdown-submenu,.profile-skills .pull-right,.control-group .controls > [class*="span"]:first-child)').removeClass("pull-right").addClass("tmp-rtl-pull-right").end().find(".pull-left:not(.dropdown-submenu,.profile-skills .pull-left)").removeClass("pull-left").addClass("pull-right").end().find(".tmp-rtl-pull-right").removeClass("tmp-rtl-pull-right").addClass("pull-left").end().find(".chzn-container").toggleClass("chzn-rtl").end().find('.control-group .controls > [class*="span"]:first-child').toggleClass("pull-right").end();a("align-left",
"align-right");a("arrowed","arrowed-right");a("arrowed-in","arrowed-in-right");var c=$("#piechart-placeholder");if(0<c.size()){var d=$(document.body).hasClass("rtl")?"nw":"ne";c.data("draw").call(c.get(0),c,c.data("chart"),d)}};
